Customizing the behavior of an Arbitrum chain, particularly in Orbit L2 or L3 setups, primarily involves modifying the State Transition Function (STF)—the logic that processes transactions and produces new blocks. This is achieved by altering ArbOS (the L2 operating system within the Nitro stack), which implements the STF. Changes can include adding new precompiles, modifying state, or adjusting execution logic, enabling tailored features like custom gas rewards or EVM extensions. As of July 2025, this requires forking the Nitro codebase, applying version-controlled modifications for compatibility, building custom nodes, and updating the on-chain WASM module root to ensure fraud proofs recognize the new behavior.

### Key benefits include

- **Tailored Functionality**: Adapt the chain for specific use cases, such as gaming (e.g., custom opcodes for performance) or DeFi (e.g., rewarding deployers with gas portions), enhancing efficiency and utility.
- **Backward Compatibility**: Version controls allow phased activations without disrupting existing blocks or contracts, supporting smooth upgrades.
- **Fraud Proof Integrity**: Updated WASM roots ensure validators and challengers (e.g., under BoLD) can verify the custom STF, maintaining Ethereum-inherited security.
- **Ecosystem Flexibility**: Supports innovations like custom precompiles or state variables, but requires expertise to balance performance, security, and costs.

This process is advanced; collaborate with RaaS providers (e.g., Caldera, Zeeve) for implementation, audits, and maintenance. Offchain Labs does not review individual changes but offers ecosystem support.

### Decisions regarding customization

Modifications are often immutable without further upgrades, so evaluate trade-offs early. Use the Orbit SDK for testing.

| Decision Area                    | Key Considerations                                                                                  | Trade-offs                                                                                                                                                      |
| -------------------------------- | --------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Type of Change**               | Select: Add methods/precompiles (simpler), new state (persistent data), STF logic (core execution). | Precompiles enhance efficiency but risk vulnerabilities; state adds utility but STF complexity; logic changes enable innovations but must preserve determinism. |
| **Activation Version**           | Choose future ArbOS version (e.g., 30+); align with canonical releases.                             | Higher versions enable phasing but activate intermediate features; low risks premature rollout.                                                                 |
| **Compatibility Mode**           | Use conditionals for backward logic; initialize states to 0/null.                                   | Ensures no re-orgs but limits radical changes; incompatible risks chain halts.                                                                                  |
| **Chain Mode (Rollup/AnyTrust)** | Apply to both; AnyTrust needs DAC for DA.                                                           | Rollup maximizes security for custom STF; AnyTrust lowers costs but adds trust—test proofs.                                                                     |
| **Resource Allocation**          | Partner with RaaS/experts; budget audits/maintenance.                                               | Collaboration speeds up but costs; in-house offers control but requires Go/Nitro skills.                                                                        |
| **When to Customize**            | For app-specific needs (e.g., custom rewards); skip if standard suffices.                           | Boosts sovereignty but increases attack surface—audit for production; non-STF changes are simpler.                                                              |
